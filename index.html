<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
</head>
<body class='admin-edit-mode'>


<!-- <div id="editor"></div> -->
<button onclick="toggleDark()">lights</button>  <button onclick="toggleAdmin(this)">admin on</button> <p>https://www.befunky.com/images/prismic/5ddfea42-7377-4bef-9ac4-f3bd407d52ab_landing-photo-to-cartoon-img5.jpeg</p>
<div class="superblock"></div>
<div class="superblock" style="height: 600px"></div>
<!-- <div class="superblock" style="height: unset; font-size: 19.8229px; aspect-ratio: 1903 / 600;"><div class="superblock-element" draggable="true" style="height: 62.1667%; width: 24.2249%; left: 27.6931%; top: 22.8333%;"><div class="superblock-element img" draggable="true" alt="" style="height: 53.6193%; left: 17.7874%; top: 11.2601%; width: 69.9872%;"><img src="https://www.befunky.com/images/prismic/5ddfea42-7377-4bef-9ac4-f3bd407d52ab_landing-photo-to-cartoon-img5.jpeg" style=""></div></div></div>
<div style="height:25vh"></div> -->
<div id="bottom"></div>
</body>

<style type="text/css">
body { 
	background-color: black; 
	color: white;
	margin: 0;
}
body.lightmode {
	background-color: white; 
	color: #4C4C4C;
}

.superblock * {
/*border: 1px solid;*/
box-sizing: border-box;
}

	.superblock-menu, .superblock-submenu {
		display: none;
	}
	.admin-edit-mode .superblock-menu, .admin-edit-mode .superblock-submenu {
		display: unset;
		position: absolute;
		left: 0;
		top: 0;
		z-index: 0;
		min-height: 1rem;
		width: 100%;
		opacity: 0;
		overflow: visible;
		white-space: nowrap;
		transition: opacity .5s;
		cursor: pointer;
	}
	.admin-edit-mode .superblock-element > .superblock-submenu {
		height: .3rem;
	}
	.admin-edit-mode .superblock-element > .superblock-submenu:has(.superblock-submenu) {
		height: unset;
	}

	.admin-edit-mode .superblock-menu .dimension {
		top: 2rem;
		width: unset;
	}
	.admin-edit-mode .superblock {
		resize: vertical;
	}
	.admin-edit-mode .superblock:hover .superblock-element:hover {
		background-color: #c4bfbf54;
	}
	.admin-edit-mode .superblock:hover .superblock-element:empty {
		background-color: #c4bfbf80;
	}
	.admin-edit-mode .superblock:hover {
		background-color: #c4bfbf54;
		box-sizing: border-box;
	}
	.admin-edit-mode .superblock:has(>*:hover) {
		overflow: visible;
	}
	.admin-edit-mode .superblock:hover .superblock-element {
		resize: both;
	}
	.admin-edit-mode .superblock-element:has(>*:hover) {
		overflow: visible;
	}

	.superblock {
		width: 100%;
		min-height: 1vw;
		height: 100px;
		position: relative;
		overflow: auto;
	}

	.superblock .subTxt {
		display: block;
	}

	.superblock * {
		font-size: 1em;
	}

	.superblock-submenu input:not([type = "color"]) {
		border: 0;
		position: relative;
		padding: .25rem;
		font-size: 1rem;
		top: -2rem
	}
	.superblock-submenu select {
		padding: .25rem;
		font-size: 1rem;
		top: -2rem;
	}
	.superblock-submenu option {
		padding: .25rem;
	}
	.superblock-menu:hover, .superblock-submenu:hover {
		z-index: 1;
		opacity: 1;
		transition: opacity;
	}
	.superblock-menu .menu-button, .superblock-submenu .menu-button {
		font-size: 1.5rem;
		padding: .25rem;
	}
	.superblock-submenu>*{
		position: relative;
		background-color: darkgray;
		top: -2rem;
	}
	.superblock-submenu>*:hover:before{
		content: '';
		position: absolute;
		top: -.33rem;
		left: -.33rem;
		height: 2.5rem;
		width: 2.5rem;
	}
	.superblock-submenu-tip {
		position: absolute;
		pointer-events: none;
		background-color: #4f4f4f40;
		padding: 0 0.5rem;
		display: none;
	}
	.superblock-element:has(.superblock-submenu:hover) .superblock-submenu-tip {
		display: inline;
	}
	.superblock-submenu>.active {
		background-color: #4f4f4f;
		color: darkgray;
	}
	.superblock-element {
		position: absolute;
		min-height: 1em;
		min-width: max-content;
		width: 2em;
		height: 2em;
		overflow: hidden;
		box-sizing: border-box;
	}
	span.superblock-element {
		min-width: min-content;
		height: auto;
	}
	.super-text>*:not(.superblock-submenu):not(.superblock-element) {
		margin: 0;
		position: relative;
		z-index: 1;
	}
	.img img {
		display: block;
		margin: auto;
		width: auto;
		height: 100%;
	}
	.superblock-element>form {
		height: 100%;
	}
	.superblock-element>form .submit-container {
		position: absolute;
		bottom: 0;
	}
	.super-form {
		width: 5rem;
	}
	.super-form label {
		display: block;
	}

/* helper stuff	*/
	.rot-90 {
		transform: rotateZ(90deg);
	}
	.rot-270 {
		transform: rotateZ(270deg);
	}
	.bold {
		font-weight: bold;
	}
	.italic {
		font-style: italic;
	}
	.underline {
		text-decoration: underline;
	}

	.locked:after {
		content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAADXElEQVRYw+2XTUjbYBjHn3yZmMSilWl7CN2kOj8HnR0eClsH62lsvewi68ExVhgMBMGTlx3Fw8Yq7KAwGHSHrZ4UWsTDBA8ThkxUmMJW52fJ2KKt5qO1ybtLe3GmtrUeBN9LEvLP8/ze9/k/yRuAy3GRx+LiIo4Qws4So+SHfT7fVUmSBnRdvy/LMm8YBrJYLCJN05GamprRmZmZ5LkBeL3e/kQiMZzNZhkAABzHASEECCEAAKAoarepqelZNBqNVhzA6/U+39nZeYsQAo7j5m022xuSJL+pqooDgE8UxQFN0xw0TWccDsedWCw2X7Fa+/1+oaOjQ3U6ncjj8YSDwSB5XBMIBOpdLtdXp9OJuru7VwcHB6uKiY0XIxJFsU/TNIZl2R/t7e19Y2Nj2eOacDj81263P6IoKr2/v399YWHhdsUAEEJ3AQBYlv04Pj6eNdNFo9ENjuPmMAwDXdfvVQxAkiQqd4yfpk0mkz8RQrC7u0tWDKCktsJK6+xiAVIAsAcA6SLKpeS0ypnbMBgMXkmn050YhqHczLB8zxeYKcqBAEII03X9Szgc1szEBeu0trb2eWtrq6OUJc0D5s/b2treAcDTsgBUVW3AcbyoZGYeODg4aCiUoyDA4eHhf0lKNVkqlSrfhEdHR6c6/jQgTdPKBzAMwzS6xWJZam5uDrhcroGqqqrfZiCnTcIUYHR01MrzPH9SYJIkdY/H44/FYh8ikchrt9s9YBZHEARbWQDr6+sWAGBMlj5L0/Sf/LUsy9tmcSiKcpRlwo2NDchkMic6PZPJ0Kurq2MjIyOBvb292tnZ2Vcn6YoxoSlAIpEwrV/uY/NAEASS5/lmURRv5jcnJ3VSWSVwu90pmqY1M3PF4/F4b29vZmpqaokgCNMEPM8nywIIhUISy7KTZktL0/QNv98fJghi0jAM0wQcx0XKfhExDPPCarXekiTp2vF7sizDysrK40LvArvdPmez2V4WykEUurm5uam0tra+JwhCSKfTnQghLJ+sUGKSJFWr1Trc2Nj4ZGJiIluRTWlPT08nQmhQUZSHqqrW5iHyu2KCIIBhmF/V1dWf6urqQtPT0zvn8l/Q39/PbG9vty4vLwv19fUMQRC4oihKS0vL966urvjQ0JBx+ct2ocY/DoltwppkcBYAAAAASUVORK5CYII=);
		position: absolute;
		bottom: 0;
		right: 0;
		width: 2rem;
		opacity: 0.5;
	}



	@media only screen and (max-width: 767px) {
		.hidden-mobile {
			display: none;
		}
	}
	@media only screen and (min-width: 768px) and (max-width: 1025px) {
		.hidden-tablet {
			display: none;
		}
	}
	@media only screen and (min-width: 1026px) {
		.hidden-desktop {
			display: none;
		}
	}
</style>

<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script type="text/javascript">
function toggleDark() {
$('body').toggleClass('lightmode')
}
function toggleAdmin(el) {

$('body').toggleClass('admin-edit-mode')
$(el).text( ($('body').hasClass('admin-edit-mode')) ?
'admin on' : 'admin off'
)
}

	const attachEditing = function() {
		if($(this).hasClass('img')) {
			$(this).on('mouseenter', addImageMenu).on('mouseleave', removeSubmenu)
		} else if($(this).hasClass('super-text')) {
			$(this).on('mouseenter', addTextMenu).on('mouseleave', removeSubmenu)
		} else if($(this).hasClass('super-link')) {
			$(this).on('mouseenter', addLinkMenu).on('mouseleave', removeSubmenu)
		} else {
			$(this).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu)
		}
	}

	const removeSelf = function(e) {
		e.stopPropagation()
		$(this).closest('.superblock-element, .superblock').remove()
	}

	const duplicateSelf = function() {
		let dup = $(this).closest('.superblock-element, .superblock').clone()
		$(this).closest('.superblock-element, .superblock').parent().closest('.superblock-element, .superblock').append(dup)
	}

	const stopPropagation = function(e) {
		e.stopPropagation()
	}

	const setImageSrc = function() {
		$(this).closest('.superblock-element').find('img:first').attr('src', $(this).val())
	}
	const setImageAlt = function() {
		$(this).closest('.superblock-element').find('img:first').attr('alt', $(this).val())
	}
	const setLinkTarget = function() {
		$(this).closest('.superblock-element').attr('href', $(this).val())
	}
	const setFormAction = function() {
		$(this).closest('.superblock-element').find('form').attr('action', $(this).val())
	}
	const setFormOnsubmit = function() {
		$(this).closest('.superblock-element').find('form').attr('onsubmit', $(this).val())
	}
	const setInputAttrs = function() {
		$(this).attr('for', $(this).text()).next('input').attr('name', $(this).text())
	}

	const setTextProperty = function() {
		switch($(this).text()) {
			case 'text_increase':
				$(this).closest('.superblock-element').find('.subTxt:first').css('font-size', (parseFloat($(this).closest('.superblock-element').find('.subTxt:first').css('font-size')) / parseFloat($(this).closest('.superblock').css('font-size')  ) + .1) + 'em' )
			break
			case 'text_decrease':
				$(this).closest('.superblock-element').find('.subTxt:first').css('font-size', (parseFloat($(this).closest('.superblock-element').find('.subTxt:first').css('font-size')) / parseFloat($(this).closest('.superblock').css('font-size')  ) - .1) + 'em' )
			break
			case 'format_align_left':
				$(this).closest('.superblock-element').find('.subTxt:first').css('text-align', 'left')
			break
			case 'format_align_center':
				$(this).closest('.superblock-element').find('.subTxt:first').css('text-align', 'center')
			break
			case 'format_align_right':
				$(this).closest('.superblock-element').find('.subTxt:first').css('text-align', 'right')
			break
			case 'format_bold':
				$(this).closest('.superblock-element').find('.subTxt:first').toggleClass('bold')
			break
			case 'format_italic':
				$(this).closest('.superblock-element').find('.subTxt:first').toggleClass('italic')
			break
			case 'format_underline':
				$(this).closest('.superblock-element').find('.subTxt:first').toggleClass('underline')
			break

			default:
				if($(this).attr('type') === 'color') {
					$(this).closest('.superblock-element').find('.subTxt:first').css('color', $(this).val())
				}
				if($(this).attr('data-option') === 'font-family') {
					$(this).closest('.superblock-element').find('.subTxt:first').css('font-family', $(this).find(':selected').text())
				}
				if($(this).attr('data-option') === 'tag') {
					let newEl = $(document.createElement($(this).find(':selected').val()))
						.attr('contenteditable', true)
						.addClass($(this).closest('.superblock-element').find('.subTxt:first').attr('class'))
						.attr('style', $(this).closest('.superblock-element').find('.subTxt:first').attr('style'))
						.html($(this).closest('.superblock-element').find('.subTxt:first').html())
					$(this).closest('.superblock-element').find('.subTxt:first').remove()
					$(this).closest('.superblock-element').append(newEl)
				}
			break
		}
	}

	const setContainerProperty = function(e) {
		e.stopPropagation()		
		switch($(this).text()) {
			case 'smartphone':
				$(this).toggleClass('active')
				$(this).closest('.superblock-element').toggleClass('hidden-mobile')
			break
			case 'tablet_mac':
				$(this).toggleClass('active')
				$(this).closest('.superblock-element').toggleClass('hidden-tablet')
			break
			case 'laptop':
				$(this).toggleClass('active')
				$(this).closest('.superblock-element').toggleClass('hidden-desktop')
			break
			default:
				if($(this).attr('type') === 'color') {
					if($(this).hasClass('border-color')) {
						$(this).closest('.superblock-element').attr('border-color', $(this).val()).css({'border-color': $(this).val(), 'border-style': 'solid'})
					} else {
						$(this).closest('.superblock-element').attr('background-color', $(this).val()).css('background-color', $(this).val())
					}
				}
				if($(this).attr('type') === 'range') {
					if($(this).hasClass('border-width')) {
						$(this).closest('.superblock-element').css({'border-width': $(this).val() + 'px', 'border-style': 'solid'})
					} else {
						$(this).closest('.superblock-element').css('border-radius', $(this).val() + '%')
					}
				}
			break
		}
	}

	const removeSubmenu = function() {
		$(this).find('.superblock-submenu').remove()
	}

	const addElement = function() {
		let element = null
		let height = '5rem'
		let width = '5rem'
		let left = 0
		let top = 0
		let midx = 0
		let midy = 0
		let x25 = 0
		let y25 = 0
		let x75 = 0
		let y75 = 0

		$('.superblock-submenu-tip').remove()

		switch($(this).text()) {
			case 'aspect_ratio': 
				element = $(document.createElement('div')).addClass('superblock-element').css({height: height, width: width}).attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
			break
			case 'splitscreen':
				height = $(this).hasClass('rot-90')? '100%' : '50%'
				width = $(this).hasClass('rot-90')? '50%' : '100%'
				left = $(this).hasClass('rot-90')? '50%' : 0
				top = $(this).hasClass('rot-90')? 0 : '50%'
				element = [
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: 0, top: 0}) .attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs),
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: left, top: top}).attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
				]
			break

			case 'view_week':
				height = $(this).hasClass('rot-90')? '33.333%' : '100%'
				width = $(this).hasClass('rot-90')? '100%': '33.333%'
				midx = $(this).hasClass('rot-90')? 0 : '33.333%'
				midy = $(this).hasClass('rot-90')? '33.333%' : 0
				left = $(this).hasClass('rot-90')? 0 :'66.66%'
				top = $(this).hasClass('rot-90')? '66.66%' : 0
				element = [
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: 0, top: 0}) .attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs),
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: midx, top: midy}) .attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs),
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: left, top: top}).attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
				]
			break
			case 'calendar_view_week':
				height = $(this).hasClass('rot-90')? '25%' : '100%'
				width = $(this).hasClass('rot-90')? '100%': '25%'
				x25 = $(this).hasClass('rot-90')? 0 : '25%'
				y25 = $(this).hasClass('rot-90')? '25%' : 0
				x75 = $(this).hasClass('rot-90')? 0 : '50%'
				y75 = $(this).hasClass('rot-90')? '50%' : 0
				left = $(this).hasClass('rot-90')? 0 :'75%'
				top = $(this).hasClass('rot-90')? '75%' : 0
				element = [
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: 0, top: 0}) .attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs),
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: x25, top: y25}) .attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs),
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: x75, top: y75}) .attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs),
					$(document.createElement('div')).addClass('superblock-element').css({height: height, width: width, left: left, top: top}).attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
				]
			break
		}
		$(this).closest('.superblock').append(element)
	}

	const addSubElement = function(e) {
		e.stopPropagation()
		let element = null
		switch($(this).text()) {
			case 'aspect_ratio': 
			  element = $(document.createElement('div')).addClass('superblock-element').attr('draggable', true).on('dragstart', move).on('mouseenter', addSubMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
			break
			case 'format_color_text': 
			  element = $(document.createElement('span')).css('width', '7em').addClass('superblock-element super-text').attr('draggable', true).on('dragstart', move)
			  	.on('mouseenter', addTextMenu).on('mouseleave', removeSubmenu)
			  	.append($(document.createElement('span')).addClass('subTxt').attr('contenteditable', true).text('Lorem Ipsum'))
			break
			case 'wallpaper': 
			  element = $(document.createElement('div')).addClass('superblock-element img').attr('draggable', true).attr('alt', '').on('dragstart', move).on('mouseenter', addImageMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
			  	.append($(document.createElement('img')).attr('src', 'https://media.istockphoto.com/id/1147544807/vector/thumbnail-image-vector-graphic.jpg?s=612x612&w=0&k=20&c=rnCKVbdxqkjlcs3xH87-9gocETqpspHFXu5dIGB4wuM='))
			break
			case 'link': 
			  element = $(document.createElement('a')).addClass('superblock-element super-link').attr('draggable', true).on('dragstart', move).on('mouseenter', addLinkMenu).on('mouseleave', removeSubmenu).on('mousedown', setAttrs).on('click', function(e) {
			  	e.stopPropagation()
			  	e.preventDefault()
			  	if($(this).width() === parseInt($(this).attr('data-width')) && $(this).height() === parseInt($(this).attr('data-height'))) {
						$(this).toggleClass('locked')
					}
			  })
			break
			case 'list_alt': 
			  element = $(document.createElement('div')).addClass('superblock-element super-form').attr('draggable', true).on('dragstart', move).on('mouseenter', addFormMenu).on('mouseleave', removeSubmenu).on('click', lock).on('mousedown', setAttrs)
			  	.append($(document.createElement('form')).attr('action', 'javascript:alert("Please provide a form submission action")')
			  		.append($(document.createElement('div')).addClass('submit-container').append($(document.createElement('input')).attr({'type': 'submit', contenteditable: true}).text('submit').on('click', stopPropagation))
		  			)
		  		)
			break
			case 'text_fields':
				$(this).closest('.superblock-element').find('.submit-container').before([
						$(document.createElement('label')).attr({'for': 'label', contenteditable: true}).text('label').on('click', stopPropagation).on('input', setInputAttrs),
						$(document.createElement('input')).attr({'type': 'text', name: 'label'})
					]
				)
		}
		$(this).closest('.superblock-element').append(element)
	}

	const align = function(e) {
		e.stopPropagation()
		let blockTop = 0
		let blockLeft = 0
		switch($(this).text()) {
			case 'format_align_center':
				if($(this).hasClass('rot-90')) {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						$(this).css('top', $(this).parent().height() / 2 - $(this).height() / 2)
					})
				} else {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						$(this).css('left', $(this).parent().width() / 2 - $(this).width() / 2)
					})
				}
			break
			case 'density_large':
				if($(this).hasClass('rot-90')) {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockLeft = parseInt($(this).css('left'))
						if(Math.abs(($(this).parent().width() / 3) - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 3) * 2 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', $(this).parent().width() / 3 - $(this).width() / 2)
						} else {
							$(this).css('left', ($(this).parent().width() / 3) * 2 - $(this).width() / 2)
						}
					})
				} else {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockTop = parseInt($(this).css('top'))
						if(Math.abs(($(this).parent().height() / 3) - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 3) * 2 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', $(this).parent().height() / 3 - $(this).height() / 2)
						} else {
							$(this).css('top', ($(this).parent().height() / 3) * 2 - $(this).height() / 2)
						}
					})
				} 
			break
			case 'density_medium':
				if($(this).hasClass('rot-90')) {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockLeft = parseInt($(this).css('left'))
						if(Math.abs(($(this).parent().width() / 4) - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 4) * 2 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', $(this).parent().width() / 4 - $(this).width() / 2)
						} else if(Math.abs(($(this).parent().width() / 4) * 2 - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 4) * 3 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', (($(this).parent().width() / 4) * 2 - ($(this).width() / 2)))
						} else  {
							$(this).css('left', (($(this).parent().width() / 4) * 3 - ($(this).width() / 2)))
						}
					})
				} else {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockTop = parseInt($(this).css('top'))
						if(Math.abs(($(this).parent().height() / 4) - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 4) * 2 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', $(this).parent().height() / 4 - $(this).height() / 2)
						} else if(Math.abs(($(this).parent().height() / 4) * 2 - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 4) * 3 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', (($(this).parent().height() / 4) * 2 - ($(this).height() / 2)))
						} else  {
							$(this).css('top', (($(this).parent().height() / 4) * 3 - ($(this).height() / 2)))
						}
					})
				}
			break
			case 'density_small':
				if($(this).hasClass('rot-90')) {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockLeft = parseInt($(this).css('left'))
						if(Math.abs(($(this).parent().width() / 5) - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 5) * 2 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', $(this).parent().width() / 5 - $(this).width() / 2)
						} else if(Math.abs(($(this).parent().width() / 5) * 2 - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 5) * 3 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', (($(this).parent().width() / 5) * 2 - ($(this).width() / 2)))
						} else if(Math.abs(($(this).parent().width() / 5) * 3 - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 5) * 4 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', (($(this).parent().width() / 5) * 3 - ($(this).width() / 2)))
						} else  {
							$(this).css('left', (($(this).parent().width() / 5) * 4 - ($(this).width() / 2)))
						}
					})
				} else {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockTop = parseInt($(this).css('top'))
						if(Math.abs(($(this).parent().height() / 5) - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 5) * 2 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', $(this).parent().height() / 5 - $(this).height() / 2)
						} else if(Math.abs(($(this).parent().height() / 5) * 2 - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 5) * 3 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', (($(this).parent().height() / 5) * 2 - ($(this).height() / 2)))
						} else if(Math.abs(($(this).parent().height() / 5) * 3 -(blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 5) * 4 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', (($(this).parent().height() / 5) * 3 - ($(this).height() / 2)))
						} else  {
							$(this).css('top', (($(this).parent().height() / 5) * 4 - ($(this).height() / 2)))
						}
					})
				}
			break
			case 'format_align_justify':
				if($(this).hasClass('rot-90')) {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockLeft = parseInt($(this).css('left'))
						if(Math.abs(($(this).parent().width() / 6) - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 6) * 2 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', $(this).parent().width() / 6 - $(this).width() / 2)
						} else if(Math.abs(($(this).parent().width() / 6) * 2 - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 6) * 3 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', (($(this).parent().width() / 6) * 2 - ($(this).width() / 2)))
						} else if(Math.abs(($(this).parent().width() / 6) * 3 - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 6) * 4 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', (($(this).parent().width() / 6) * 3 - ($(this).width() / 2)))
						} else if(Math.abs(($(this).parent().width() / 6) * 4 - (blockLeft + $(this).width() / 2)) < Math.abs(($(this).parent().width() / 6) * 5 - (blockLeft + $(this).width() / 2)) ) {
							$(this).css('left', (($(this).parent().width() / 6) * 4 - ($(this).width() / 2)))
						} else  {
							$(this).css('left', (($(this).parent().width() / 6) * 5 - ($(this).width() / 2)))
						}
					})
				} else {
					$(this).closest('.superblock-element').find('>*:not(.superblock-submenu)').each(function() {
						blockTop = parseInt($(this).css('top'))
						if(Math.abs(($(this).parent().height() / 6) - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 6) * 2 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', $(this).parent().height() / 6 - $(this).height() / 2)
						} else if(Math.abs(($(this).parent().height() / 6) * 2 - (blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 6) * 3 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', (($(this).parent().height() / 6) * 2 - ($(this).height() / 2)))
						} else if(Math.abs(($(this).parent().height() / 6) * 3 -(blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 6) * 4 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', (($(this).parent().height() / 6) * 3 - ($(this).height() / 2)))
						} else if(Math.abs(($(this).parent().height() / 6) * 4 -(blockTop + $(this).height() / 2)) < Math.abs(($(this).parent().height() / 6) * 5 - (blockTop + $(this).height() / 2)) ) {
							$(this).css('top', (($(this).parent().height() / 6) * 4 - ($(this).height() / 2)))
						} else  {
							$(this).css('top', (($(this).parent().height() / 6) * 5 - ($(this).height() / 2)))
						}
					})
				}
			break
			default:
				if($(this).text().includes('height')) {
				}
			break
		}
	}

	const size = function(e) {
		e.stopPropagation()
		let css = {}
		switch($(this).text()) {
			case 'fullscreen':
				css = {width: '100%', height: '100%', left: 0, top: 0}
			break
			case 'density_large':
				if($(this).hasClass('rot-90')) css = {width: '50%'}
				else css = {height: '50%'}	
			break
			case 'density_medium':
				if($(this).hasClass('rot-90')) css = {width: '33.333%'}
				else css = {height: '33.333%'}	
			break
			case 'density_small':
				if($(this).hasClass('rot-90')) css = {width: '25%'}
				else css = {height: '25%'}	
			break
			case 'format_align_justify':
				if($(this).hasClass('rot-90')) css = {width: '20%'}
				else css = {height: '20%'}	
			break
			default:
				if($(this).text().includes('height')) {
					if($(this).hasClass('rot-90')) css = {width: '100%', left: 0}
					else css = {height: '100%', top: 0}	
				}
			break
		}
		$(this).closest('.superblock-element').css(css)
	}

	const snap = function(e) {
		e.stopPropagation()
		let css = {}
		let z = parseInt($(this).closest('.superblock-element').css('z-index')) || 0
		switch($(this).text()) {
			case 'logout':
				css = {'z-index': z + 1}
			break
			case 'save_alt':
				css = {'z-index': (z>0) ? z - 1 : 0}
			break
			case 'north':
				css = {top: 0}
			break
			case 'south':
				css = {top: $(this).closest('.superblock-element').parent().height() - $(this).closest('.superblock-element').height() - 2}
			break
			case 'east':
				css = {left: $(this).closest('.superblock-element').parent().width() - $(this).closest('.superblock-element').width() - 2}
			break
			case 'west':
				css = {left: 0}
			break
			case 'vertical_align_center':
				css = $(this).hasClass('rot-90') ?
					{left: $(this).closest('.superblock-element').parent().width() / 2 - $(this).closest('.superblock-element').width() / 2 - 1}
					:
					{top: $(this).closest('.superblock-element').parent().height() / 2 - $(this).closest('.superblock-element').height() / 2 - 1}
			break
		}
		$(this).closest('.superblock-element').css(css)
		$(this).closest('.superblock-element').find('.superblock-submenu, .superblock-submenu-tip').remove()

	}

	const move = function(e) {
		e.stopPropagation()
		if($(this).hasClass('locked')) { return }
		let x = e.clientX
		let y = e.clientY
		let left = parseInt($(this).css('left'))
		let top = parseInt($(this).css('top'))
		$(this).on('drag', function(e) {
			if(!e.clientX || !e.clientY) {return}
			$(this).css('left', left + e.clientX - x)
			$(this).css('top', top + e.clientY - y)
		}).on('dragend', function() { $(this).off('drag')})
	}

	const setAttrs = function(e) {
		$(this).attr('data-height', $(this).height())
		$(this).attr('data-width', $(this).width())
	}

	const lock = function(e) {
		e.stopPropagation()
		if($(this).width() === parseInt($(this).attr('data-width')) && $(this).height() === parseInt($(this).attr('data-height'))) {
			$(this).toggleClass('locked')
		}
	}

	const addSuperMenu = function() {
		$(this).find('.superblock-menu').remove()
		let menu = $(document.createElement('div')).addClass('superblock-menu')
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('space_dashboard').on('mouseenter', addSuperMenuDimension))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('delete_outline').on('click', removeSelf))
		$(this).prepend(menu)
	}

	const addSuperMenuDimension = function() {
		let menu = $(document.createElement('span')).addClass('superblock-menu dimension').on('mouseleave', function() {$(this).remove()})
		switch($(this).text()) {
			case 'space_dashboard':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('aspect_ratio').on('click', addElement))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('splitscreen').on('click', addElement))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('splitscreen').on('click', addElement))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('view_week').on('click', addElement))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('view_week').on('click', addElement))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('calendar_view_week').on('click', addElement))
			break
		}
		$(this).append(menu)
	}

	const addSubMenuDimension = function(e) {
		e.stopPropagation()
		if($(this).find('.dimension').length) {return}
		$(this).off('mouseleave').on('mouseleave', function() { 
			$(this).find('.dimension').remove()
			$('.superblock-submenu-tip').remove()
		})
		let menu = $(document.createElement('div')).addClass('superblock-submenu dimension')
		let block = $(this).closest('.superblock-element')
		let tip
		switch($(this).text()) {
			case 'open_with':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('vertical_align_center').on('click', snap).on('mouseenter', function() {addTip(block, 'center vertical')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('vertical_align_center').on('click', snap).on('mouseenter', function() {addTip(block, 'center horizontal')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('north').on('click', snap).on('mouseenter', function() {addTip(block, 'move top')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('south').on('click', snap).on('mouseenter', function() {addTip(block, 'move bottom')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('west').on('click', snap).on('mouseenter', function() {addTip(block, 'move left')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('east').on('click', snap).on('mouseenter', function() {addTip(block, 'move right')}))
				tip = 'position'
			break
			case 'zoom_out_map':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('fullscreen').on('click', size).on('mouseenter', function() {addTip(block, 'fill container')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('height').on('mouseenter', addSubMenuDimension).on('click', stopPropagation).on('click', size).on('mouseenter', function() {addTip(block, 'full width')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('height').on('mouseenter', addSubMenuDimension).on('click', stopPropagation).on('click', size).on('mouseenter', function() {addTip(block, 'full height')}))
				tip = 'size'
			break
			case 'height':
				if($(this).hasClass('rot-90')) {
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('density_large').on('click', size).on('mouseenter', function() {addTip(block, '1/2 width')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('density_medium').on('click', size).on('mouseenter', function() {addTip(block, '1/3 width')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('density_small').on('click', size).on('mouseenter', function() {addTip(block, '1/4 width')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('format_align_justify').on('click', size).on('mouseenter', function() {addTip(block, '1/5 width')}))
					menu.addClass('rot-270')
					tip = 'horizontal position'
				} else {
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('density_large').on('click', size).on('mouseenter', function() {addTip(block, '1/2 height')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('density_medium').on('click', size).on('mouseenter', function() {addTip(block, '1/3 height')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('density_small').on('click', size).on('mouseenter', function() {addTip(block, '1/4 height')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_justify').on('click', size).on('mouseenter', function() {addTip(block, '1/5 height')}))
					tip = 'vertical position'
				}

			break
			case 'wallpaper':
				menu.append($(document.createElement('input')).attr('placeholder', 'image source (url)').val($(this).closest('.superblock-element').find('img:first').attr('src')).on('input', setImageSrc).on('click', stopPropagation))
				tip = 'add image'
			break
			case 'format_color_text':
				if($(this).closest('.superblock-element').hasClass('img')) {
					menu.append($(document.createElement('input')).attr('placeholder', 'image alt text').val($(this).closest('.superblock-element').find('img:first').attr('alt')).on('input', setImageAlt).on('click', stopPropagation))
					tip = 'add image alt'
				}
				if($(this).closest('.superblock-element').hasClass('super-text')) {
					let colorVal = $(this).closest('.superblock-element').find('.subTxt:first').css('color') || 'rgb(0,0,0)'
					colorVal =  '#' + colorVal.replace('rgb(','').replace(')','').split(',').map(function(rgb) { return Number(rgb).toString(16).trim()}).join('')
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('font_download').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_center').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('text_format').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').append(
						$(document.createElement('input')).attr('type', 'color').css({'width': '1em', 'height': '1em', 'position': 'relative', top: '-.25em', padding: 0, margin: 0, border: 'none', 'background-color': 'transparent'}).on('input', setTextProperty)
							.val(colorVal).on('click', stopPropagation))
					)
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('text_increase').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'larger text')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('text_decrease').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'smaller text')}))
					tip = 'text properties'
				}
			break
			case 'font_download':
				menu.append($(document.createElement('select')).attr('placeholder', 'Select Font')
					.append($(document.createElement('option')).text('Arial'))
					.append($(document.createElement('option')).text('Verdana'))
					.append($(document.createElement('option')).text('Tahoma'))
					.append($(document.createElement('option')).text('Trebuchet MS'))
					.append($(document.createElement('option')).text('Times New Roman'))
					.append($(document.createElement('option')).text('Georgia'))
					.append($(document.createElement('option')).text('Garamond'))
					.append($(document.createElement('option')).text('Courier New'))
					.append($(document.createElement('option')).text('Brush Script MT'))
				).on('change', setTextProperty).attr('data-option', 'font-family')
				tip = 'font'
			break
			case 'format_align_center':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_left').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'text left')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_center').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'text center')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_right').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'text right')}))
				tip = 'text align'
			break
			case 'text_format':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_bold').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'bold')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_italic').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'italic')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_underline').on('click', setTextProperty).on('mouseenter', function() {addTip(block, 'underline')}))
				tip = 'text options'
			break
			case 'link':
				menu.append($(document.createElement('input')).attr('placeholder', 'target url').val($(this).closest('.superblock-element').attr('href')).on('input', setLinkTarget).on('click', stopPropagation))
				tip = 'add link'
			break
			case 'code':
				let tagName = $(this).closest('.superblock-element').find('.subTxt:first').prop('tagName').toLowerCase()
				menu.append($(document.createElement('select')).attr('placeholder', 'Select Tag')
					.append($(document.createElement('option')).text('<span>').attr('value', 'span').prop('selected', (tagName === 'span')))
					.append($(document.createElement('option')).text('<p>').attr('value', 'p').prop('selected', (tagName === 'p')))
					.append($(document.createElement('option')).text('<h1>').attr('value', 'h1').prop('selected', (tagName === 'h1')))
					.append($(document.createElement('option')).text('<h2>').attr('value', 'h2').prop('selected', (tagName === 'h2')))
					.append($(document.createElement('option')).text('<h3>').attr('value', 'h3').prop('selected', (tagName === 'h3')))
					.append($(document.createElement('option')).text('<h4>').attr('value', 'h4').prop('selected', (tagName === 'h4')))
					.append($(document.createElement('option')).text('<h5>').attr('value', 'h5').prop('selected', (tagName === 'h5')))
					.append($(document.createElement('option')).text('<script>').attr('value', 'script').prop('selected', (tagName === 'script')))
				).on('change', setTextProperty).attr('data-option', 'tag')
				tip = 'text tag'
			break
			case 'add':
				if($(this).closest('.superblock-element').hasClass('super-form')) {
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('text_fields').on('click', addSubElement).on('mouseenter', function() {addTip(block, 'add input')}))
					tip = 'add field'

				} else {
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('aspect_ratio').on('click', addSubElement).on('mouseenter', function() {addTip(block, 'add block')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_color_text').on('click', addSubElement).on('mouseenter', function() {addTip(block, 'add text')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('wallpaper').on('click', addSubElement).on('mouseenter', function() {addTip(block, 'add image')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('link').on('click', addSubElement).on('mouseenter', function() {addTip(block, 'add link')}))
					menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('list_alt').on('click', addSubElement).on('mouseenter', function() {addTip(block, 'add form')}))
					tip = 'add element'
				}
			break
			case 'visibility':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('all_out').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_color_fill').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('border_style').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('devices').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				tip = 'appearance'
			break
			case 'all_out': 
				menu.append($(document.createElement('input')).attr({type: 'range', 'draggable': true, max: 50}).css('top', '-1.5rem').val(parseInt($(this).closest('.superblock-element').css('border-radius')))
					.on('dragstart', function(e) {e.stopPropagation();e.preventDefault()}).on('input', setContainerProperty).on('click', stopPropagation))
				tip = 'border radius'
			break
			case  'format_color_fill':
				let colorVal = $(this).closest('.superblock-element').attr('data-background-color') || 'rgb(0,0,0)'
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').append(
					$(document.createElement('input')).attr('type', 'color').css({'width': '1em', 'height': '1em', 'position': 'relative', top: '-.25em', padding: 0, margin: 0, border: 'none', 'background-color': 'transparent'}).on('input', setContainerProperty)
						.val(colorVal).on('click', stopPropagation))
				)
				tip = 'background color'
			break
			case 'border_style':
				let borderColor = $(this).closest('.superblock-element').css('border-color') || 'rgb(0,0,0)'
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('line_weight').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').on('mouseenter', function() {addTip(block, 'border color')}).append(
					$(document.createElement('input')).attr('type', 'color').css({'width': '1em', 'height': '1em', 'position': 'relative', top: '-.25em', padding: 0, margin: 0, border: 'none', 'background-color': 'transparent'})
						.on('input', setContainerProperty).val(borderColor).addClass('border-color').on('click', stopPropagation))
				)
				tip = 'border'
			break
			case 'devices':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('smartphone').on('click', setContainerProperty)
					.addClass(($(this).closest('.superblock-element').hasClass('hidden-mobile'))? 'active' : '').on('mouseenter', function() {addTip(block, 'hide mobile')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('tablet_mac').on('click', setContainerProperty)
					.addClass(($(this).closest('.superblock-element').hasClass('hidden-tablet'))? 'active' : '').on('mouseenter', function() {addTip(block, 'hide tablet')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('laptop').on('click', setContainerProperty)
					.addClass(($(this).closest('.superblock-element').hasClass('hidden-desktop'))? 'active' : '').on('mouseenter', function() {addTip(block, 'hide desktop')}))
				tip = 'device display'
			break
			case 'line_weight':
				menu.append($(document.createElement('input')).attr({type: 'range', 'draggable': true, max: 50}).css('top', '-1.5rem').val(parseInt($(this).closest('.superblock-element').css('border-width')))
					.on('dragstart', function(e) {e.stopPropagation();e.preventDefault()}).on('input', setContainerProperty).addClass('border-width').on('click', stopPropagation))
				tip = 'border width'
			break
			case 'grid_on':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('vertical_distribute').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('horizontal_distribute').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
				tip = 'align sub elements'
			break
			case 'vertical_distribute':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_center').on('click', align).on('mouseenter', function() {addTip(block, 'center vertical')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('density_large').on('click', align).on('mouseenter', function() {addTip(block, '2 columns')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('density_medium').on('click', align).on('mouseenter', function() {addTip(block, '3 columns')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('density_small').on('click', align).on('mouseenter', function() {addTip(block, '4 columns')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('format_align_justify').on('click', align).on('mouseenter', function() {addTip(block, '5 columns')}))
				menu.addClass('rot-270')
				tip = 'number of columns'
			break
			case 'horizontal_distribute':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-90').text('format_align_center').on('click', align).on('mouseenter', function() {addTip(block, 'center horizontal')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('density_large').on('click', align).on('mouseenter', function() {addTip(block, '2 rows')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('density_medium').on('click', align).on('mouseenter', function() {addTip(block, '3 rows')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('density_small').on('click', align).on('mouseenter', function() {addTip(block, '4 rows')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_align_justify').on('click', align).on('mouseenter', function() {addTip(block, '5 rows')}))
				menu.addClass('rot-270')
				tip = 'number of rows'
			break
			case 'open_in_new':
				menu.append($(document.createElement('input')).attr('placeholder', 'form action (url)').val($(this).closest('.superblock-element').find('form').attr('action')).on('input', setFormAction).on('click', stopPropagation))
				tip = 'form action'
			break
			case 'ads_click':
				menu.append($(document.createElement('input')).attr('placeholder', 'form submission (function)').val($(this).closest('.superblock-element').find('form').attr('onsubmit')).on('input', setFormOnsubmit).on('click', stopPropagation))
				tip = 'form on submit function'
			break
			case 'Z':
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button rot-270').text('logout').on('click', snap).on('mouseenter', function() {addTip(block, 'move forward')}))
				menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('save_alt').on('click', snap).on('mouseenter', function() {addTip(block, 'move behind')}))
				tip = 'z index'
			break
		}
		$(this).prepend(menu)
		$(this).closest('.superblock-element').append(setTip(tip))
	}

	const setTip = function(tip) {
		$('.superblock-submenu-tip').remove()
		return $(document.createElement('span')).addClass('superblock-submenu-tip').text((tip || ''))
	}
	
	const addTip = function(block, tip) {
		block.append(setTip(tip))
	}

	const addSubMenu = function(e) {
		e.stopPropagation()
		if($(this).find('.superblock-submenu').length) {return}
		$('.superblock-submenu-tip').remove()
		let menu = $(document.createElement('div')).addClass('superblock-submenu')
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('add').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('visibility').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('open_with').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('zoom_out_map').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('grid_on').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('menu-button').text('Z').css({top:'-2.333rem', fontSize:'1.333rem', padding: '0.25rem 0.6rem'}).on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('content_copy').on('click', duplicateSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('clone'))}))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('delete_outline').on('click', removeSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('delete'))}))

		$(this).prepend(menu)
	}

	const addLinkMenu = function(e) {
		e.stopPropagation()
		if($(this).find('.superblock-submenu').length) {return}
		let menu = $(document.createElement('div')).addClass('superblock-submenu')
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('link').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('add').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('visibility').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('open_with').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('zoom_out_map').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('menu-button').text('Z').css({top:'-2.333rem', fontSize:'1.333rem', padding: '0.25rem 0.6rem'}).on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('content_copy').on('click', duplicateSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('clone'))}))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('delete_outline').on('click', removeSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('delete'))}))

		$(this).prepend(menu)
	}

	const addImageMenu = function(e) {
		e.stopPropagation()
		if($(this).find('.superblock-submenu').length) {return}
		let menu = $(document.createElement('div')).addClass('superblock-submenu')
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('wallpaper').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_color_text').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('visibility').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('open_with').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('zoom_out_map').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('menu-button').text('Z').css({top:'-2.333rem', fontSize:'1.333rem', padding: '0.25rem 0.6rem'}).on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('content_copy').on('click', duplicateSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('clone'))}))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('delete_outline').on('click', removeSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('delete'))}))

		$(this).prepend(menu)
	}

	const addTextMenu = function(e) {
		e.stopPropagation()
		if($(this).find('.superblock-submenu').length) {return}
		let menu = $(document.createElement('div')).addClass('superblock-submenu')
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('format_color_text').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('code').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('add').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('visibility').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('open_with').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('zoom_out_map').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('menu-button').text('Z').css({top:'-2.333rem', fontSize:'1.333rem', padding: '0.25rem 0.6rem'}).on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('content_copy').on('click', duplicateSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('clone'))}))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('delete_outline').on('click', removeSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('delete'))}))

		$(this).prepend(menu)
	}

	const addFormMenu = function(e) {
		e.stopPropagation()
		if($(this).find('.superblock-submenu').length) {return}
		let menu = $(document.createElement('div')).addClass('superblock-submenu')
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('open_in_new').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('ads_click').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('add').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		//menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('visibility').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('open_with').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('zoom_out_map').on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('menu-button').text('Z').css({top:'-2.333rem', fontSize:'1.333rem', padding: '0.25rem 0.6rem'}).on('mouseenter', addSubMenuDimension).on('click', stopPropagation))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('content_copy').on('click', duplicateSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('clone'))}))
		menu.append($(document.createElement('span')).addClass('material-icons-outlined menu-button').text('delete_outline').on('click', removeSelf).on('mouseenter', function() { $(this).closest('.superblock-element').append(setTip('delete'))}))

		$(this).prepend(menu)
	}

	const handleResize = function() {
		$('.superblock').css('font-size', $(this).width() / 96 )
	}

	$( window ).resize(handleResize)

	const convertPx2Per10 = function(num, div) {
		if(typeof(num) === 'string' && num.includes('%')) {return num}
		return (parseFloat(num) / div) * 100 + '%'
	}

	const convertPxHeightAspect = function(width, height) {
		return `${width}/${height}`
	}

	const endEditing = function() {
		$('.superblock-menu').remove()
		$('.superblock-submenu').remove()
		$('.superblock-submenu-tip').remove()
		$(this).find('.superblock-element').each(function() {
			$(this).css('width', convertPx2Per10($(this).outerWidth(), $(this).parent().closest('.superblock-element, .superblock').outerWidth()) )
			$(this).css('height', convertPx2Per10($(this).outerHeight(), $(this).parent().closest('.superblock-element, .superblock').outerHeight()) )
			$(this).css('top', convertPx2Per10($(this).css('top'), $(this).parent().closest('.superblock-element, .superblock').outerHeight()) )
			$(this).css('left', convertPx2Per10($(this).css('left'), $(this).parent().closest('.superblock-element, .superblock').outerWidth()) )
		})
		$('.superblock .locked').removeClass('locked')
		$(this).css('aspect-ratio', convertPxHeightAspect($(this).width(), $(this).height())).css('height', 'unset')
	}

	$(document).ready(function() {
		$('.superblock').css('font-size', $(this).width() / 96 ).on('mouseenter', addSuperMenu).on('mouseleave', endEditing)
	})
</script>
<!-- <script src="https://cdn.ckeditor.com/ckeditor5/35.3.2/classic/ckeditor.js"></script> -->

  <!--   <script>
        ClassicEditor
            .create( document.querySelector( '#editor' ) )
            .catch( error => {
                console.error( error );
            } );
    </script> -->
</html>